import{h as T,ad as P,aq as W,aS as L,aT as S,aF as C,v as q,J as B,q as U,M as X,G as $,aU as M,ae as D,aV as j,ao as F,aW as N,V as w,U as V,g as G,a1 as p,af as J,aX as K,aY as Z,ag as x,aZ as Q,W as ee,X as te,p as re,a2 as ae,aC as ne,c as se,K as E,u as ie,a_ as oe}from"./BAKKtip-.js";const ue=["touchstart","touchmove"];function fe(e){return ue.includes(e)}function be(e){T&&P(e)!==null&&W(e)}let k=!1;function ce(){k||(k=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function H(e){var t=C,r=q;L(null),S(null);try{return e()}finally{L(t),S(r)}}function pe(e,t,r,n=r){e.addEventListener(t,()=>H(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),ce()}const le=new Set,A=new Set;function _e(e,t,r,n={}){function s(a){if(n.capture||g.call(t,a),!a.cancelBubble)return H(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?U(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function ge(e,t,r,n,s){var a={capture:n,passive:s},c=_e(e,t,r,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&B(()=>{t.removeEventListener(e,c,a)})}function g(e){var R;var t=this,r=t.ownerDocument,n=e.type,s=((R=e.composedPath)==null?void 0:R.call(e))||[],a=s[0]||e.target,c=0,u=e.__root;if(u){var l=s.indexOf(u);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var i=s.indexOf(t);if(i===-1)return;l<=i&&(c=l)}if(a=s[c]||e.target,a!==t){X(e,"currentTarget",{configurable:!0,get(){return a||r}});var m=C,_=q;L(null),S(null);try{for(var o,f=[];a!==null;){var d=a.assignedSlot||a.parentNode||a.host||null;try{var h=a["__"+n];if(h!=null&&(!a.disabled||e.target===a))if($(h)){var[Y,...z]=h;Y.apply(a,[e,...z])}else h.call(a,e)}catch(y){o?f.push(y):o=y}if(e.cancelBubble||d===t||d===null)break;a=d}if(o){for(let y of f)queueMicrotask(()=>{throw y});throw o}}finally{e.__root=t,delete e.currentTarget,L(m),S(_)}}}function ye(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function de(e,t){return I(e,t)}function we(e,t){M(),t.intro=t.intro??!1;const r=t.target,n=T,s=p;try{for(var a=P(r);a&&(a.nodeType!==D||a.data!==j);)a=F(a);if(!a)throw N;w(!0),V(a),G();const c=I(e,{...t,anchor:a});if(p===null||p.nodeType!==D||p.data!==J)throw K(),N;return w(!1),c}catch(c){if(c===N)return t.recover===!1&&Z(),M(),W(r),w(!1),de(e,t);throw c}finally{w(n),V(s)}}const v=new Map;function I(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:c=!0}){M();var u=new Set,l=_=>{for(var o=0;o<_.length;o++){var f=_[o];if(!u.has(f)){u.add(f);var d=fe(f);t.addEventListener(f,g,{passive:d});var h=v.get(f);h===void 0?(document.addEventListener(f,g,{passive:d}),v.set(f,1)):v.set(f,h+1)}}};l(x(le)),A.add(l);var i=void 0,m=Q(()=>{var _=r??t.appendChild(ee());return te(()=>{if(a){re({});var o=ae;o.c=a}s&&(n.$$events=s),T&&ne(_,null),i=e(_,n)||{},T&&(q.nodes_end=p),a&&se()}),()=>{var d;for(var o of u){t.removeEventListener(o,g);var f=v.get(o);--f===0?(document.removeEventListener(o,g),v.delete(o)):v.set(o,f)}A.delete(l),_!==r&&((d=_.parentNode)==null||d.removeChild(_))}});return O.set(i,m),i}let O=new WeakMap;function Ee(e,t){const r=O.get(e);return r?(O.delete(e),r(t)):Promise.resolve()}function he(e,t,r){if(e==null)return t(void 0),E;const n=ie(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const b=[];function Te(e,t=E){let r=null;const n=new Set;function s(u){if(oe(e,u)&&(e=u,r)){const l=!b.length;for(const i of n)i[1](),b.push(i,e);if(l){for(let i=0;i<b.length;i+=2)b[i][0](b[i+1]);b.length=0}}}function a(u){s(u(e))}function c(u,l=E){const i=[u,l];return n.add(i),n.size===1&&(r=t(s,a)||E),u(e),()=>{n.delete(i),n.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:c}}function Le(e){let t;return he(e,r=>t=r)(),t}export{he as a,ce as b,ge as e,Le as g,we as h,pe as l,de as m,be as r,ye as s,Ee as u,Te as w};
