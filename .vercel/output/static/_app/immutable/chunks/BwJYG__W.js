import{U as P,h as R,ad as fe,W as j,g as ue,N as se,j as J,w as ve,Q as de,R as oe,T as K,V as U,a1 as O,ae as _e,af as ce,X as F,_ as he,Y as pe,ag as ee,G as me,m as Ee,ah as Z,ai as k,$ as ae,a0 as Te,aj as L,ak as X,al as re,am as V,an as Ae,ao as Ie,ap as we,aq as Ne,ar as xe,v as Ce,as as ne,q as De,at as Me}from"./BAKKtip-.js";function Oe(i,a){return a}function Re(i,a,e){for(var u=i.items,v=[],d=a.length,f=0;f<d;f++)we(a[f].e,v,!0);var h=d>0&&v.length===0&&e!==null;if(h){var T=e.parentNode;Ne(T),T.append(e),u.clear(),N(i,a[0].prev,a[d-1].next)}xe(v,()=>{for(var E=0;E<d;E++){var _=a[E];h||(u.delete(_.k),N(i,_.prev,_.next)),re(_.e,!h)}})}function be(i,a,e,u,v,d=null){var f=i,h={flags:a,items:new Map,first:null},T=(a&ne)!==0;if(T){var E=i;f=R?P(fe(E)):E.appendChild(j())}R&&ue();var _=null,C=!1,A=new Map,D=ve(()=>{var o=e();return me(o)?o:o==null?[]:ee(o)}),n,s;function l(){Se(s,n,h,A,f,v,a,u,e),d!==null&&(n.length===0?_?ae(_):_=F(()=>d(f)):_!==null&&Te(_,()=>{_=null}))}se(()=>{s??(s=Ce),n=J(D);var o=n.length;if(C&&o===0)return;C=o===0;let m=!1;if(R){var I=de(f)===oe;I!==(o===0)&&(f=K(),P(f),U(!1),m=!0)}if(R){for(var x=null,c,r=0;r<o;r++){if(O.nodeType===_e&&O.data===ce){f=O,m=!0,U(!1);break}var t=n[r],p=u(t,r);c=G(O,h,x,null,t,p,r,v,a,e),h.items.set(p,c),x=c}o>0&&P(K())}if(R)o===0&&d&&(_=F(()=>d(f)));else if(he()){var S=new Set,b=pe;for(r=0;r<o;r+=1){t=n[r],p=u(t,r);var M=h.items.get(p)??A.get(p);M?(a&(V|L))!==0&&ie(M,t,r,a):(c=G(null,h,null,null,t,p,r,v,a,e,!0),A.set(p,c)),S.add(p)}for(const[w,q]of h.items)S.has(w)||b.skipped_effects.add(q.e);b.add_callback(l)}else l();m&&U(!0),J(D)}),R&&(f=O)}function Se(i,a,e,u,v,d,f,h,T){var Q,W,$,y;var E=(f&Me)!==0,_=(f&(V|L))!==0,C=a.length,A=e.items,D=e.first,n=D,s,l=null,o,m=[],I=[],x,c,r,t;if(E)for(t=0;t<C;t+=1)x=a[t],c=h(x,t),r=A.get(c),r!==void 0&&((Q=r.a)==null||Q.measure(),(o??(o=new Set)).add(r));for(t=0;t<C;t+=1){if(x=a[t],c=h(x,t),r=A.get(c),r===void 0){var p=u.get(c);if(p!==void 0){u.delete(c),A.set(c,p);var S=l?l.next:n;N(e,l,p),N(e,p,S),B(p,S,v),l=p}else{var b=n?n.e.nodes_start:v;l=G(b,e,l,l===null?e.first:l.next,x,c,t,d,f,T)}A.set(c,l),m=[],I=[],n=l.next;continue}if(_&&ie(r,x,t,f),(r.e.f&X)!==0&&(ae(r.e),E&&((W=r.a)==null||W.unfix(),(o??(o=new Set)).delete(r))),r!==n){if(s!==void 0&&s.has(r)){if(m.length<I.length){var M=I[0],w;l=M.prev;var q=m[0],Y=m[m.length-1];for(w=0;w<m.length;w+=1)B(m[w],M,v);for(w=0;w<I.length;w+=1)s.delete(I[w]);N(e,q.prev,Y.next),N(e,l,q),N(e,Y,M),n=M,l=Y,t-=1,m=[],I=[]}else s.delete(r),B(r,n,v),N(e,r.prev,r.next),N(e,r,l===null?e.first:l.next),N(e,l,r),l=r;continue}for(m=[],I=[];n!==null&&n.k!==c;)(n.e.f&X)===0&&(s??(s=new Set)).add(n),I.push(n),n=n.next;if(n===null)continue;r=n}m.push(r),l=r,n=r.next}if(n!==null||s!==void 0){for(var H=s===void 0?[]:ee(s);n!==null;)(n.e.f&X)===0&&H.push(n),n=n.next;var g=H.length;if(g>0){var te=(f&ne)!==0&&C===0?v:null;if(E){for(t=0;t<g;t+=1)($=H[t].a)==null||$.measure();for(t=0;t<g;t+=1)(y=H[t].a)==null||y.fix()}Re(e,H,te)}}E&&De(()=>{var z;if(o!==void 0)for(r of o)(z=r.a)==null||z.apply()}),i.first=e.first&&e.first.e,i.last=l&&l.e;for(var le of u.values())re(le.e);u.clear()}function ie(i,a,e,u){(u&V)!==0&&k(i.v,a),(u&L)!==0?k(i.i,e):i.i=e}function G(i,a,e,u,v,d,f,h,T,E,_){var C=(T&V)!==0,A=(T&Ae)===0,D=C?A?Ee(v,!1,!1):Z(v):v,n=(T&L)===0?f:Z(f),s={i:n,v:D,k:d,a:null,e:null,prev:e,next:u};try{if(i===null){var l=document.createDocumentFragment();l.append(i=j())}return s.e=F(()=>h(i,D,n,E),R),s.e.prev=e&&e.e,s.e.next=u&&u.e,e===null?_||(a.first=s):(e.next=s,e.e.next=s.e),u!==null&&(u.prev=s,u.e.prev=s.e),s}finally{}}function B(i,a,e){for(var u=i.next?i.next.e.nodes_start:e,v=a?a.e.nodes_start:e,d=i.e.nodes_start;d!==null&&d!==u;){var f=Ie(d);v.before(d),d=f}}function N(i,a,e){a===null?i.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function qe(i){return function(...a){var e=a[0];return e.stopPropagation(),i==null?void 0:i.apply(this,a)}}function Le(i){return function(...a){var e=a[0];return e.preventDefault(),i==null?void 0:i.apply(this,a)}}export{be as e,Oe as i,Le as p,qe as s};
